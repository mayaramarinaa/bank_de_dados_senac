-- Criação do banco de dados
CREATE DATABASE IF NOT EXISTS loja_roupas;
USE loja_roupas;

-- Tabela: categoria
-- Armazena as categorias dos produtos
CREATE TABLE categoria (
    id_categoria INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(45) NOT NULL,
    descricao VARCHAR(45)
);

-- Tabela: fornecedor
-- Armazena informações dos fornecedores
CREATE TABLE fornecedor (
    id_fornecedor INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(45) NOT NULL,
    telefone INT,
    email VARCHAR(45),
    endereco VARCHAR(45)
);

-- Tabela: clientes
-- Armazena informações dos clientes
CREATE TABLE clientes (
    id_cliente INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(45) NOT NULL,
    cpf INT,
    email VARCHAR(45),
    telefone INT,
    data_nascimento DATETIME,
    endereco VARCHAR(45)
);

-- Tabela: pagamento
-- Armazena os métodos de pagamento
CREATE TABLE pagamento (
    id_pagamento INT PRIMARY KEY AUTO_INCREMENT,
    metodo VARCHAR(45) NOT NULL
);

-- Tabela: pedidos
-- Armazena os pedidos realizados pelos clientes
CREATE TABLE pedidos (
    id_pedido INT PRIMARY KEY AUTO_INCREMENT,
    id_cliente INT NOT NULL,
    data_pedido DATETIME NOT NULL,
    valor_total DECIMAL(10, 2) NOT NULL,
    id_pagamento INT,
    status VARCHAR(45),
    clientes_id_cliente INT,
    pagamento_id_pagamento INT,
    FOREIGN KEY (id_cliente) REFERENCES clientes(id_cliente),
    FOREIGN KEY (id_pagamento) REFERENCES pagamento(id_pagamento),
    FOREIGN KEY (clientes_id_cliente) REFERENCES clientes(id_cliente),
    FOREIGN KEY (pagamento_id_pagamento) REFERENCES pagamento(id_pagamento)
);

-- Tabela: produtos
-- Armazena informações dos produtos da loja
CREATE TABLE produtos (
    id_produtos INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(45) NOT NULL,
    tamanho VARCHAR(45),
    cor VARCHAR(45),
    preco DECIMAL(10, 2) NOT NULL,
    descricao VARCHAR(45),
    categoria_id_categoria INT,
    fornecedor_id_fornecedor INT,
    clientes_id_cliente INT,
    pedidos_id_pedido INT,
    pedidos_clientes_id_cliente INT,
    FOREIGN KEY (categoria_id_categoria) REFERENCES categoria(id_categoria),
    FOREIGN KEY (fornecedor_id_fornecedor) REFERENCES fornecedor(id_fornecedor),
    FOREIGN KEY (clientes_id_cliente) REFERENCES clientes(id_cliente),
    FOREIGN KEY (pedidos_id_pedido) REFERENCES pedidos(id_pedido),
    FOREIGN KEY (pedidos_clientes_id_cliente) REFERENCES clientes(id_cliente)
);
